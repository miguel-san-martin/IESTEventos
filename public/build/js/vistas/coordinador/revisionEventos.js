async function revisionEventos(){const e=document.getElementById("id_user").textContent,t=new FormData;t.append("id",e);const n=baseurl+"Coordinador/revisionEventos",a=await fetch(n,{method:"POST",body:t});tabla_eventos(await a.json())}function tabla_eventos(e){const t=document.querySelector("#celdas_revision");for(;t.lastChild;)t.removeChild(t.lastChild);"0"!=Object.keys(e).length?(Swal.close(),e.forEach(e=>{const t=document.createElement("TR"),n=document.createElement("TD");n.setAttribute("data-label","Nombre"),n.textContent=e.nombre,t.appendChild(n);const a=document.createElement("TD");a.setAttribute("data-label","Estatus"),a.textContent=e.estatus,t.appendChild(a);const o=document.createElement("TD");o.setAttribute("data-label","Comentario VR"),o.textContent=e.comentario_vr??"No ha realizado comentario alguno",t.appendChild(o);const i=document.createElement("TD");i.setAttribute("data-label","Comentario AV"),i.textContent=e.comentario_av??"No ha realizado comentario alguno",t.appendChild(i);const s=document.createElement("TD");s.setAttribute("data-label","Mas detalles");const r=document.createElement("p");r.classList.add("centrar-texto","boton"),r.textContent="Editar",1==e.estatusid?(r.classList.add("gris"),r.addEventListener("click",(function(){Swal.fire({title:"Podra editar el evento hasta cuando reciba alguna retroalimentacion",customClass:{popup:"swal"},showClass:{popup:"animate__animated animate__fadeInDown"},hideClass:{popup:"animate__animated animate__fadeOutUp"}})}))):(r.classList.add("verde"),r.addEventListener("click",(function(){window.location="/Coordinador/editarevento?id="+e.token}))),s.appendChild(r),t.appendChild(s);const l=document.createElement("TD");l.setAttribute("Data-label","Eliminar");const d=document.createElement("P");d.textContent="Eliminar",d.classList.add("centrar-texto","boton","rojo"),l.appendChild(d),t.appendChild(l),l.addEventListener("click",(function(){Swal.fire({title:"¿Está seguro que desea eliminar este evento?",text:"Si lo eliminas no podras rescatar la informacion",showCancelButton:"true",confirmButtonText:"Eliminar",customClass:{confirmButton:"sw_button verde",cancelButton:"sw_button rojo"}}).then(t=>{t.isConfirmed&&eliminarevento(e.id)})}));document.querySelector("#celdas_revision").appendChild(t)})):Swal.fire({title:"No hay eventos que editar",showconfirmButton:"true",confirmButtonText:"Entiendo",showClass:{popup:"animate__animated animate__fadeInDown"},hideClass:{popup:"animate__animated animate__fadeOutUp"},customClass:{confirmButton:"sw_button verde"}})}async function eliminarevento(e){const t=new FormData;t.append("idevento",e);const n=baseurl+"Coordinador/eliminarEvento",a=await fetch(n,{method:"POST",body:t});(await a.json()).success?(Swal.fire({icon:"success",title:"Evento eliminado",showConfirmButton:!1,timer:1500}),revisionEventos()):Swal.fire({icon:"error",title:"Ocurrio algo, no se pudo eliminar el evento",showConfirmButton:!1,timer:1500})}function separarFechaHora(e){let t,n=e.split(" ")[0],a=e.split(" ")[1],o=parseInt(a.split(":")[0]),i=parseInt(a.split(":")[1]);t=o>=12?"pm":"am",o>12&&(o-=12);let s=new Date(n);s.setHours(o,i);return`Fecha: ${s.getFullYear()}-${s.getMonth()+1}-${s.getDate()}\nHora: ${s.getHours()}:${s.getMinutes()} ${t}`}