const info={nivel_estudios:"",matricula:"",division:"",semestre:"",foto:""};var periodoDato="";function estilos(){document.getElementById("navbar2").classList.add("ocultar"),document.body.style.background="url('build/img/vistas/alumnos/fondoinfo.jpg')   no-repeat",document.body.style.backgroundSize="cover",document.body.style.backgroundRepeat="no-repeat",document.body.style.backgroundPosition="bottom right";document.querySelector("#nav").classList.add("ocultar")}function periodo(){const i=new Date,o=i.getMonth(),e=i.getDate();o>=0&&o<=4&&e<=31?periodoDato="PD1":5===o&&e<=31||6===o&&e<=31?periodoDato="PD2":o>=7&&o<=11&&e<=31&&(periodoDato="PD3")}async function nivel_estudios(){periodo();const i=new Promise(i=>{setTimeout(()=>{i({Universidad:"Universidad",Preparatoria:"Preparatoria"})},0)}),{value:o}=await Swal.fire({title:"Selecciona tu nivel de estudios",input:"radio",inputOptions:i,showConfirmButton:!1,allowOutsideClick:!1,allowEscapeKey:!1,confirmButtonText:"Continuar",customClass:{confirmButton:"sw_button naranja"},inputValidator:i=>{if(!i)return"Selecciona tu nivel de estudios"}});o&&("Universidad"==o?(info.matricula="U",info.nivel_estudios="Universidad",divisionuniversidad()):(info.matricula="P",info.nivel_estudios="Preparatoria",divisionPrepa()))}async function divisionPrepa(){const{value:i}=await Swal.fire({title:"Selecciona tu Bachillerato",input:"select",allowOutsideClick:!1,showConfirmButton:!0,customClass:{confirmButton:"sw_button naranja",input:"sw_selecc"},inputOptions:{Bachillerato:{QB:"Quimico-Biologica",FM:"Fisico-Matematicas",EA:"Economico-Administrativas",HH:"Humanidades"}},inputPlaceholder:"Selecciona tu bachillerato",inputValidator:i=>{if(!i)return"Selecciona tu bachillerato"}});if(i){switch(i){case"QB":info.division="Quimico-Biologica";break;case"FM":info.division="Fisico-Matematicas";break;case"EA":info.division="Economico-Administrativas";break;case"HH":info.division="Humanidades"}info.matricula=info.matricula+"-"+i,Semestre_prepa()}}async function divisionuniversidad(){const{value:i}=await Swal.fire({title:"Selecciona tu carrera",input:"select",allowOutsideClick:!1,width:"600px",customClass:{confirmButton:"sw_button naranja",input:"sw_selecc"},inputOptions:{Carreras:{AD:"Administración y Dirección de Empresas",AR:"Arquitectura",CT:"Ciencias Teológicas",DE:"Derecho",DG:"Diseño Gráfico",FI:"Filosofía",FC:"Finanzas y Contaduría Pública",GA:"Gastronomía",ID:"Idiomas",IS:"Ingeniería en Sistemas y Negocios Digitales",II:"Ingeniería Industrial",IM:"Ingeniería Mecatrónica",IQ:"Ingeniería Química",MC:"Médico Cirujano",ME:"Mercadotecnia Estratégica",NI:"Negocios Internacionales",PS:"Psicología"}},inputPlaceholder:"Select tu carrera",inputValidator:i=>{if(!i)return"Selecciona tu carrera"}});if(i){switch(i){case"AD":info.division="Administración y Dirección de Empresas";break;case"AR":info.division="Arquitectura";break;case"CT":info.division="Ciencias Teológicas";break;case"DE":info.division="Derecho";break;case"DG":info.division="Diseño Gráfico";break;case"FI":info.division="Filosofía";break;case"FC":info.division="Finanzas y Contaduría Pública";break;case"GA":info.division="Gastronomía";break;case"ID":info.division="Idiomas";break;case"IS":info.division="Ingeniería en Sistemas y Negocios Digitales";break;case"ID":info.division="Ingeniería Industrial";break;case"IM":info.division="Ingeniería Mecatrónica";break;case"IQ":info.division="Ingeniería Química";break;case"MC":info.division="Médico Cirujano";break;case"ME":info.division="Mercadotecnia Estratégica";break;case"NI":info.division="Negocios Internacionales";break;case"PS":info.division="Psicología"}info.matricula=info.matricula+"-"+i,semestre_universidad()}}async function semestre_universidad(){const i=new Promise(i=>{setTimeout(()=>{switch(periodoDato){case"PD1":i({"-PD1-02":"2°","-PD1-04":"4°","-PD1-06":"6°","-PD1-08":"8°","-PD1-10":"10°","-PD1-00":"No definido"});break;case"PD2":i({"-PD2-01":"1°","-PD2-03":"3°","-PD2-05":"5°","-PD2-07":"7°","-PD2-09":"9°","-PD2-00":"No definido"});break;case"PD3":i({"-PD3-01":"1°","-PD3-03":"3°","-PD3-05":"5°","-PD3-05":"7°","-PD3-05":"9°","-PD3-00":"No definido"})}})}),{value:o}=await Swal.fire({title:"Selecciona Semestre",input:"radio",inputOptions:i,showConfirmButton:!0,allowOutsideClick:!1,confirmButtonText:"Continuar",customClass:{confirmButton:"sw_button naranja"},allowEscapeKey:!1,inputValidator:i=>{if(!i)return"Elige tu semestre!"}});o&&(info.matricula=info.matricula+""+o,info.semestre=o[5]+o[6],foto())}async function Semestre_prepa(){const i=new Promise(i=>{setTimeout(()=>{switch(periodoDato){case"PD1":i({"-PD1-02":"2°","-PD1-04":"4°","-PD1-06":"6°","-PD1-00":"No definido"});break;case"PD2":i({"-PD2-01":"1°","-PD2-03":"3°","-PD2-05":"5°","-PD2-00":"No definido"});break;case"PD3":i({"-PD3-01":"1°","-PD3-03":"3°","-PD3-05":"5°","-PD3-00":"No definido"})}})}),{value:o}=await Swal.fire({title:"Selecciona Semestre",input:"radio",inputOptions:i,showConfirmButton:!0,allowOutsideClick:!1,allowEscapeKey:!1,confirmButtonText:"Continuar",customClass:{confirmButton:"sw_button naranja"},inputValidator:i=>{if(!i)return"Elige tu semestre!"}});o&&(info.matricula=info.matricula+""+o,info.semestre=o[5]+o[6],foto())}async function foto(){const{value:i}=await Swal.fire({title:"Selecciona una foto de perfil",input:"file",allowOutsideClick:!1,confirmButtonText:"Continuar",footer:"<p>No se permiten fotos ofensivas. Gracias por mantener un ambiente seguro y respetuoso para todos los usuarios. Cada semestre podras cambiar tu foto</p>",customClass:{confirmButton:"sw_button naranja"},inputAttributes:{accept:"image/*","aria-label":"Carga tu foto de perfil"},inputValidator:i=>{if(!i)return"Selecciona tu foto"}});i&&Swal.fire({title:"¡Consultando!",icon:"info",html:"Guardando Datos",timerProgressBar:!0,showConfirmButton:!1,didOpen:()=>{Swal.showLoading(),agregarestudiante(i)}})}async function agregarestudiante(i){const o=new FormData;o.append("nivel_esudios",info.nivel_estudios),o.append("semestre",info.semestre),o.append("division",info.division),o.append("matricula",info.matricula),o.append("fotografia",i);var e=info.matricula.split("-")[1];o.append("estudio",e);const a=baseurl+"/informacionAdicional",n=await fetch(a,{method:"POST",body:o}),t=await n.json();console.log(t),"ok"===t?Swal.fire({icon:"success",title:"Informacion Agregada",timer:1200,showConfirmButton:!1,willClose:()=>{window.location.href="/"}}):Swal.fire({icon:"alert",title:"Pide ayuda a soporte",timer:1200,showConfirmButton:!1})}estilos(),nivel_estudios();